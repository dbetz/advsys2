var xxx, yyy[], zzz[4] = 3, qqq[] = { 1, 2, 3 }, sss;

property p11, p12, p13, p21, p22, p23;

object obj1 {
shared p11: 100;
p12: 200;
p13: 300;
px : method(a, b) { return a+b+self.p11; };
py : method(a, b) { return a+b+self.p21; };
}

obj1 obj2 {
p21: 10;
p22: 20;
p23: 30;
}

def foo(x)
{
    return x+1;
}

def bar(x)
{
    return x-1;
}

def baz(a, b)
{
    return (foo(a) << 16) | bar(b);
}

def getc()
{
    asm {
        TRAP 0
        RETURN
    }
}

def main()
{
    var a = 2;
    var b;
    var c = 99;
    var ch;
    print "Hello, world!";
    print a, b, c;
    print a < c ? 111 : 222;
    print a > c ? 333 : 444;
    a = (11, b + 22, c + 33);
    print a;
    print foo(100);
    print bar(100);
    b = baz(10, 20);
    print b >> 16, b & 0xffff;
    print obj1.p11, obj1.p12, obj1.p13;
    print obj2.p21, obj2.p22, obj2.p23;
    print obj2.p11, obj2.p12, obj2.p13;
    obj1.p11 = 199;
    obj1.p12 = 299;
    print obj1.p11, obj1.p12, obj1.p13;
    print obj2.p11, obj2.p12, obj2.p13;
    print [obj2 px 1,2];
    print [obj2 py 3,4];
    while (1) {
        ch = getc();
        if (ch == 'n')
            print "North";
        else if (ch == 's')
            print "South";
        else if (ch == 'e')
            print "East";
        else if (ch == 'w')
            print "West";
        else if (ch == 'q')
            print "Quit";
    }
}

